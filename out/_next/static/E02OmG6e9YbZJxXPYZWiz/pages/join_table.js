(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"7itk":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/join_table",function(){return n("qAdF")}])},"9ONQ":function(e,t,n){"use strict";n.r(t);var o=n("iVi/");function i(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(o){}return e}var r=n("Qetd"),a=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?o.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=o.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var o in this.cookies)n[o]=i(this.cookies[o],e);return n},e.prototype.set=function(e,t,n){var i;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=r({},this.cookies,((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=o.serialize(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=r({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=r({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=o.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.default=a},Ma5Y:function(e,t,n){var o=n("9ONQ");o=o.default||o,e.exports=function(e,t){var n=e.req&&e.req.headers&&e.req.headers.cookie;return new o(n).getAll(t)}},X4fA:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("q1tI");var o=n("nOHt"),i=n.n(o),r=n("Ma5Y"),a=n.n(r),s=function(e){var t=a()(e).token;return console.log("i am in auth"),e.req&&!t?(e.res.writeHead(302,{Location:"/login"}),e.res.end(),t):(t||i.a.push("/login"),t)}},"iVi/":function(e,t,n){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},a=e.split(r),c=i.decode||o,u=0;u<a.length;u++){var l=a[u],p=l.indexOf("=");if(!(p<0)){var d=l.substr(0,p).trim(),f=l.substr(++p,l.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==n[d]&&(n[d]=s(f,c))}}return n},t.serialize=function(e,t,n){var o=n||{},r=o.encode||i;if("function"!==typeof r)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var s=r(t);if(s&&!a.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(o.domain){if(!a.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!a.test(o.path))throw new TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!==typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(c+="; HttpOnly");o.secure&&(c+="; Secure");if(o.sameSite){switch("string"===typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var o=decodeURIComponent,i=encodeURIComponent,r=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(n){return e}}},qAdF:function(e,t,n){"use strict";n.r(t),n.d(t,"SetFilterIcon",(function(){return b}));var o=n("o0o1"),i=n.n(o),r=n("HaE+"),a=n("q1tI"),s=n.n(a),c=(n("i8i4"),n("I/Ru")),u=n("2I/Z"),l=n.n(u),p=n("Tgqd"),d=n("vOnD"),f=n("nOHt"),h=n("/MKj"),g=n("ANjH"),m=n("zAP2"),y=n("X4fA"),v=s.a.createElement,b=d.default.div.withConfig({displayName:"join_table__SetFilterIcon",componentId:"sc-1j9ax6a-0"})(["position:fixed;bottom:50px;right:20px;opacity:0.8;background:transparent linear-gradient(172deg,#78ffd6 0%,#007991 100%) 0% 0% no-repeat padding-box;box-shadow:0px 3px 6px #00000029;opacity:1;padding:5px 5px;display:flex;border-radius:100px;box-shadow:0 0 5px #70707029;"]),w=d.default.div.withConfig({displayName:"join_table__CheckoutText",componentId:"sc-1j9ax6a-1"})(["position:fixed;bottom:30px;font-weight:500;right:17px;color:#3cbcb4;font-size:12px;"]),x=function(e){var t=Object(a.useState)(""),n=t[0],o=t[1];return v(c.a,null,v("div",{style:{padding:20}},v("div",{style:{padding:10}},v("div",{className:"fo15",style:{fontWeight:500,color:"#404040"}},"It looks like there's already someone on this table. To join, you need to ask the person for the 4 digit code."),v("h3",{style:{fontSize:18,color:"#656565"}},"Join your friends on this table"),v("small",{className:"fo12 secondText"},"Enter the 4 digit code displayed on your friend's screen"),v("div",{style:{marginTop:20}},v(l.a,{onChange:function(e){return o(e)},numInputs:4,value:n,separator:v("span",{style:{marginRight:10}}),containerStyle:"containerstyle",inputStyle:"inputstyle",shouldAutoFocus:!0,focusStyle:"focusstyle"})),v("div",null,v(w,null,"Let's go"),v(b,{onClick:function(){e.jointable_action(n,e.router.query.qr_code)}},v(p.b,{style:{fontSize:34,color:"white"}}))))),v("style",null,"\n        .containerstyle{\n            display: flex;\n        }\n        .inputstyle{\n            border: none;\n    border-bottom: solid #999999 1.5px;\n    font-size: 20px;\n        }\n        .focusstyle{\n            border: none;\n            outline: none;\n            border-bottom: solid #3CBCB4 1.5px;\n        }\n        "))};x.getInitialProps=function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this is ctx"),n=Object(y.a)(t),e.abrupt("return",{token:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=Object(h.b)(null,(function(e){return{jointable_action:Object(g.b)(m.a,e)}}))(Object(f.withRouter)(x))},zAP2:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var o=n("o0o1"),i=n.n(o),r=n("HaE+"),a=n("oe5f"),s=n("3V2a"),c=n("r48g"),u=n("nOHt"),l=n.n(u),p=n("p46w"),d=n.n(p),f=function(e){console.log(name,"this is name");var t={qr_code:e};return function(n){s.a.restCall(c.a.getBaseUrl()+"/table/","/join",t,"customer_id").then(function(){var t=Object(r.a)(i.a.mark((function t(n,o){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(n,"this is res ++++++++++"),"occupied"===n.data.status?(console.log("i am herre    ++++"),l.a.push({pathname:"/join_table",query:{qr_code:e}})):console.log(n,"this is error");case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){console.log("errorror",e)}))}},h=function(e,t){console.log(name,"this is name");var n={table_joining_code:e,qr_code:t};return function(e){s.a.restCall(c.a.getBaseUrl()+"/table/","/join_with_code",n,"customer_id").then(function(){var t=Object(r.a)(i.a.mark((function t(n,o){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(n,"this is res ++++++++++"),"failure"!==n.data.status?(d.a.set("order_id",n.data.order_id),l.a.push("/"),e({type:a.c,data:n.data})):console.log(n,"this is error");case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){console.log("errorror",e)}))}}}},[["7itk",1,0,2,3,4,5,6,7,10]]]);